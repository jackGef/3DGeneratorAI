<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Generator Project Architecture</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: #0d1117;
            color: #c9d1d9;
            overflow: hidden;
        }
        
        #controls {
            position: fixed;
            top: 20px;
            left: 20px;
            background: #161b22;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #30363d;
            z-index: 1000;
            max-width: 300px;
        }
        
        h1 {
            font-size: 18px;
            margin-bottom: 15px;
            color: #58a6ff;
        }
        
        .filter-group {
            margin-bottom: 15px;
        }
        
        .filter-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 12px;
            color: #8b949e;
        }
        
        .filter-group select, .filter-group input {
            width: 100%;
            padding: 8px;
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 4px;
            color: #c9d1d9;
            font-size: 12px;
        }
        
        .legend {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #30363d;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-size: 11px;
        }
        
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 3px;
            margin-right: 8px;
        }
        
        #info {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: #161b22;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #30363d;
            max-width: 300px;
            font-size: 12px;
            line-height: 1.6;
        }
        
        #info h3 {
            font-size: 14px;
            margin-bottom: 10px;
            color: #58a6ff;
        }
        
        #info .detail {
            margin-bottom: 5px;
        }
        
        #info .detail strong {
            color: #8b949e;
        }
        
        .node {
            cursor: pointer;
            stroke-width: 2px;
        }
        
        .node:hover {
            stroke: #58a6ff;
            stroke-width: 3px;
        }
        
        .link {
            stroke: #30363d;
            stroke-opacity: 0.6;
            stroke-width: 1.5px;
            fill: none;
        }
        
        .link:hover {
            stroke: #58a6ff;
            stroke-opacity: 1;
            stroke-width: 2.5px;
        }
        
        .node-label {
            font-size: 10px;
            fill: #c9d1d9;
            pointer-events: none;
            text-anchor: middle;
        }
        
        .highlight {
            stroke: #58a6ff !important;
            stroke-width: 3px !important;
        }
        
        .dimmed {
            opacity: 0.2;
        }
        
        button {
            width: 100%;
            padding: 8px;
            margin-top: 10px;
            background: #238636;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }
        
        button:hover {
            background: #2ea043;
        }
        
        button.secondary {
            background: #21262d;
        }
        
        button.secondary:hover {
            background: #30363d;
        }
    </style>
</head>
<body>
    <div id="controls">
        <h1>ðŸŽ¨ Project Architecture</h1>
        
        <div class="filter-group">
            <label>Filter by Type:</label>
            <select id="typeFilter">
                <option value="all">All Files</option>
                <option value="backend">Backend Only</option>
                <option value="frontend">Frontend Only</option>
                <option value="model">Model Server</option>
                <option value="controller">Controllers</option>
                <option value="route">Routes</option>
                <option value="model-file">Models</option>
                <option value="page">Pages</option>
                <option value="component">Components</option>
            </select>
        </div>
        
        <div class="filter-group">
            <label>Search:</label>
            <input type="text" id="searchInput" placeholder="Type to search...">
        </div>
        
        <button onclick="resetView()">Reset View</button>
        <button class="secondary" onclick="toggleLabels()">Toggle Labels</button>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: #58a6ff;"></div>
                <span>Entry Points</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #3fb950;"></div>
                <span>Controllers</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #d29922;"></div>
                <span>Routes</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #f85149;"></div>
                <span>Models</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #a371f7;"></div>
                <span>Services</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #ff7b72;"></div>
                <span>Pages</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #79c0ff;"></div>
                <span>Components</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #8b949e;"></div>
                <span>Utils/Other</span>
            </div>
        </div>
    </div>
    
    <div id="info" style="display: none;">
        <h3 id="infoTitle">Select a node</h3>
        <div id="infoContent"></div>
    </div>
    
    <svg id="graph"></svg>

    <script>
        // Project data structure
        const projectData = {
            nodes: [
                // Backend Entry
                { id: 'index.ts', name: 'index.ts', type: 'entry', category: 'backend', path: 'backend/src/' },
                
                // Backend Routes
                { id: 'auth.routes', name: 'auth.routes', type: 'route', category: 'backend', path: 'backend/src/routes/' },
                { id: 'user.routes', name: 'user.routes', type: 'route', category: 'backend', path: 'backend/src/routes/' },
                { id: 'chat.routes', name: 'chat.routes', type: 'route', category: 'backend', path: 'backend/src/routes/' },
                { id: 'message.routes', name: 'message.routes', type: 'route', category: 'backend', path: 'backend/src/routes/' },
                { id: 'job.routes', name: 'job.routes', type: 'route', category: 'backend', path: 'backend/src/routes/' },
                { id: 'asset.routes', name: 'asset.routes', type: 'route', category: 'backend', path: 'backend/src/routes/' },
                { id: 'generate.routes', name: 'generate.routes', type: 'route', category: 'backend', path: 'backend/src/routes/' },
                { id: 'admin.routes', name: 'admin.routes', type: 'route', category: 'backend', path: 'backend/src/routes/' },
                { id: 'analytics.routes', name: 'analytics.routes', type: 'route', category: 'backend', path: 'backend/src/routes/' },
                
                // Backend Controllers
                { id: 'auth.controller', name: 'auth.controller', type: 'controller', category: 'backend', path: 'backend/src/controllers/' },
                { id: 'user.controller', name: 'user.controller', type: 'controller', category: 'backend', path: 'backend/src/controllers/' },
                { id: 'chat.controller', name: 'chat.controller', type: 'controller', category: 'backend', path: 'backend/src/controllers/' },
                { id: 'message.controller', name: 'message.controller', type: 'controller', category: 'backend', path: 'backend/src/controllers/' },
                { id: 'job.controller', name: 'job.controller', type: 'controller', category: 'backend', path: 'backend/src/controllers/' },
                { id: 'asset.controller', name: 'asset.controller', type: 'controller', category: 'backend', path: 'backend/src/controllers/' },
                { id: 'generate.controller', name: 'generate.controller', type: 'controller', category: 'backend', path: 'backend/src/controllers/' },
                { id: 'admin.controller', name: 'admin.controller', type: 'controller', category: 'backend', path: 'backend/src/controllers/' },
                { id: 'analytics.controller', name: 'analytics.controller', type: 'controller', category: 'backend', path: 'backend/src/controllers/' },
                
                // Backend Models
                { id: 'user.model', name: 'user.model', type: 'model-file', category: 'backend', path: 'backend/src/models/' },
                { id: 'chat.model', name: 'chat.model', type: 'model-file', category: 'backend', path: 'backend/src/models/' },
                { id: 'message.model', name: 'message.model', type: 'model-file', category: 'backend', path: 'backend/src/models/' },
                { id: 'job.model', name: 'job.model', type: 'model-file', category: 'backend', path: 'backend/src/models/' },
                { id: 'asset.model', name: 'asset.model', type: 'model-file', category: 'backend', path: 'backend/src/models/' },
                { id: 'verification.model', name: 'verification.model', type: 'model-file', category: 'backend', path: 'backend/src/models/' },
                { id: 'passwordReset.model', name: 'passwordReset.model', type: 'model-file', category: 'backend', path: 'backend/src/models/' },
                { id: 'refreshToken.model', name: 'refreshToken.model', type: 'model-file', category: 'backend', path: 'backend/src/models/' },
                
                // Backend Services
                { id: 'db.service', name: 'db.service', type: 'service', category: 'backend', path: 'backend/src/services/' },
                { id: 'modelService', name: 'modelService', type: 'service', category: 'backend', path: 'backend/src/services/' },
                
                // Backend Utils
                { id: 'jwt.util', name: 'jwt.util', type: 'util', category: 'backend', path: 'backend/src/utils/' },
                { id: 'mailer.util', name: 'mailer.util', type: 'util', category: 'backend', path: 'backend/src/utils/' },
                { id: 'logger.util', name: 'logger.util', type: 'util', category: 'backend', path: 'backend/src/utils/' },
                { id: 'coder.util', name: 'coder.util', type: 'util', category: 'backend', path: 'backend/src/utils/' },
                
                // Backend Middleware
                { id: 'auth.middleware', name: 'auth.middleware', type: 'util', category: 'backend', path: 'backend/src/middleware/' },
                { id: 'adminAuth.middleware', name: 'adminAuth.middleware', type: 'util', category: 'backend', path: 'backend/src/middleware/' },
                { id: 'rateLimiter.middleware', name: 'rateLimiter.middleware', type: 'util', category: 'backend', path: 'backend/src/middleware/' },
                { id: 'logging.middleware', name: 'logging.middleware', type: 'util', category: 'backend', path: 'backend/src/middleware/' },
                
                // Frontend Entry
                { id: 'main.tsx', name: 'main.tsx', type: 'entry', category: 'frontend', path: 'front/src/' },
                { id: 'App.tsx', name: 'App.tsx', type: 'entry', category: 'frontend', path: 'front/src/' },
                
                // Frontend Pages
                { id: 'LoginPage', name: 'LoginPage', type: 'page', category: 'frontend', path: 'front/src/pages/' },
                { id: 'RegisterPage', name: 'RegisterPage', type: 'page', category: 'frontend', path: 'front/src/pages/' },
                { id: 'DashboardPage', name: 'DashboardPage', type: 'page', category: 'frontend', path: 'front/src/pages/' },
                { id: 'GeneratorPage', name: 'GeneratorPage', type: 'page', category: 'frontend', path: 'front/src/pages/' },
                { id: 'JobsPage', name: 'JobsPage', type: 'page', category: 'frontend', path: 'front/src/pages/' },
                { id: 'ChatsPage', name: 'ChatsPage', type: 'page', category: 'frontend', path: 'front/src/pages/' },
                { id: 'ProfilePage', name: 'ProfilePage', type: 'page', category: 'frontend', path: 'front/src/pages/' },
                { id: 'AdminPage', name: 'AdminPage', type: 'page', category: 'frontend', path: 'front/src/pages/' },
                
                // Frontend Components
                { id: 'Layout', name: 'Layout', type: 'component', category: 'frontend', path: 'front/src/components/' },
                { id: 'ModelViewer2', name: 'ModelViewer2', type: 'component', category: 'frontend', path: 'front/src/components/' },
                
                // Frontend Services
                { id: 'api.service', name: 'api.service', type: 'service', category: 'frontend', path: 'front/src/services/' },
                { id: 'AuthContext', name: 'AuthContext', type: 'service', category: 'frontend', path: 'front/src/contexts/' },
                
                // Model Server
                { id: 'app.py', name: 'app.py', type: 'entry', category: 'model', path: 'model-server/' },
            ],
            links: [
                // Backend Entry -> Routes
                { source: 'index.ts', target: 'auth.routes' },
                { source: 'index.ts', target: 'user.routes' },
                { source: 'index.ts', target: 'chat.routes' },
                { source: 'index.ts', target: 'message.routes' },
                { source: 'index.ts', target: 'job.routes' },
                { source: 'index.ts', target: 'asset.routes' },
                { source: 'index.ts', target: 'generate.routes' },
                { source: 'index.ts', target: 'admin.routes' },
                { source: 'index.ts', target: 'analytics.routes' },
                { source: 'index.ts', target: 'db.service' },
                { source: 'index.ts', target: 'logger.util' },
                { source: 'index.ts', target: 'logging.middleware' },
                
                // Routes -> Controllers
                { source: 'auth.routes', target: 'auth.controller' },
                { source: 'auth.routes', target: 'auth.middleware' },
                { source: 'auth.routes', target: 'rateLimiter.middleware' },
                { source: 'user.routes', target: 'user.controller' },
                { source: 'user.routes', target: 'auth.middleware' },
                { source: 'chat.routes', target: 'chat.controller' },
                { source: 'chat.routes', target: 'auth.middleware' },
                { source: 'message.routes', target: 'message.controller' },
                { source: 'message.routes', target: 'auth.middleware' },
                { source: 'job.routes', target: 'job.controller' },
                { source: 'job.routes', target: 'auth.middleware' },
                { source: 'asset.routes', target: 'asset.controller' },
                { source: 'asset.routes', target: 'auth.middleware' },
                { source: 'generate.routes', target: 'generate.controller' },
                { source: 'generate.routes', target: 'auth.middleware' },
                { source: 'admin.routes', target: 'admin.controller' },
                { source: 'admin.routes', target: 'auth.middleware' },
                { source: 'admin.routes', target: 'adminAuth.middleware' },
                { source: 'analytics.routes', target: 'analytics.controller' },
                { source: 'analytics.routes', target: 'auth.middleware' },
                
                // Controllers -> Models
                { source: 'auth.controller', target: 'user.model' },
                { source: 'auth.controller', target: 'verification.model' },
                { source: 'auth.controller', target: 'passwordReset.model' },
                { source: 'auth.controller', target: 'refreshToken.model' },
                { source: 'auth.controller', target: 'jwt.util' },
                { source: 'auth.controller', target: 'mailer.util' },
                { source: 'user.controller', target: 'user.model' },
                { source: 'user.controller', target: 'message.model' },
                { source: 'user.controller', target: 'verification.model' },
                { source: 'user.controller', target: 'mailer.util' },
                { source: 'chat.controller', target: 'chat.model' },
                { source: 'chat.controller', target: 'message.model' },
                { source: 'message.controller', target: 'message.model' },
                { source: 'message.controller', target: 'chat.model' },
                { source: 'job.controller', target: 'job.model' },
                { source: 'asset.controller', target: 'asset.model' },
                { source: 'generate.controller', target: 'asset.model' },
                { source: 'generate.controller', target: 'modelService' },
                { source: 'admin.controller', target: 'user.model' },
                { source: 'admin.controller', target: 'job.model' },
                { source: 'admin.controller', target: 'asset.model' },
                { source: 'admin.controller', target: 'chat.model' },
                { source: 'admin.controller', target: 'message.model' },
                { source: 'admin.controller', target: 'logger.util' },
                { source: 'analytics.controller', target: 'user.model' },
                { source: 'analytics.controller', target: 'job.model' },
                { source: 'analytics.controller', target: 'asset.model' },
                { source: 'analytics.controller', target: 'chat.model' },
                
                // Middleware -> Utils
                { source: 'auth.middleware', target: 'jwt.util' },
                { source: 'adminAuth.middleware', target: 'logger.util' },
                { source: 'logging.middleware', target: 'logger.util' },
                
                // Model Service -> Model Server
                { source: 'modelService', target: 'app.py' },
                
                // Frontend Entry
                { source: 'main.tsx', target: 'App.tsx' },
                
                // App -> Context & Pages
                { source: 'App.tsx', target: 'AuthContext' },
                { source: 'App.tsx', target: 'Layout' },
                { source: 'App.tsx', target: 'LoginPage' },
                { source: 'App.tsx', target: 'RegisterPage' },
                { source: 'App.tsx', target: 'DashboardPage' },
                { source: 'App.tsx', target: 'GeneratorPage' },
                { source: 'App.tsx', target: 'JobsPage' },
                { source: 'App.tsx', target: 'ChatsPage' },
                { source: 'App.tsx', target: 'ProfilePage' },
                { source: 'App.tsx', target: 'AdminPage' },
                
                // Layout -> Components
                { source: 'Layout', target: 'AuthContext' },
                
                // Pages -> Services
                { source: 'LoginPage', target: 'AuthContext' },
                { source: 'RegisterPage', target: 'AuthContext' },
                { source: 'ProfilePage', target: 'AuthContext' },
                { source: 'ProfilePage', target: 'api.service' },
                { source: 'DashboardPage', target: 'api.service' },
                { source: 'GeneratorPage', target: 'api.service' },
                { source: 'JobsPage', target: 'api.service' },
                { source: 'ChatsPage', target: 'api.service' },
                { source: 'AdminPage', target: 'api.service' },
                
                // Pages -> Components
                { source: 'JobsPage', target: 'ModelViewer2' },
                
                // Services -> Backend API
                { source: 'AuthContext', target: 'api.service' },
            ]
        };

        // Setup SVG
        const width = window.innerWidth;
        const height = window.innerHeight;
        
        const svg = d3.select('#graph')
            .attr('width', width)
            .attr('height', height);
            
        const g = svg.append('g');
        
        // Add zoom behavior
        const zoom = d3.zoom()
            .scaleExtent([0.1, 4])
            .on('zoom', (event) => {
                g.attr('transform', event.transform);
            });
            
        svg.call(zoom);
        
        // Color mapping
        const colors = {
            'entry': '#58a6ff',
            'controller': '#3fb950',
            'route': '#d29922',
            'model-file': '#f85149',
            'service': '#a371f7',
            'page': '#ff7b72',
            'component': '#79c0ff',
            'util': '#8b949e'
        };
        
        let showLabels = true;
        let simulation;
        let link, node, labels;
        
        function getNodeColor(d) {
            return colors[d.type] || '#8b949e';
        }
        
        function getNodeSize(d) {
            if (d.type === 'entry') return 12;
            if (d.type === 'controller' || d.type === 'route') return 10;
            if (d.type === 'model-file' || d.type === 'page') return 9;
            return 7;
        }
        
        function updateGraph(filteredData) {
            // Clear previous graph
            g.selectAll('*').remove();
            
            // Create links
            link = g.append('g')
                .selectAll('path')
                .data(filteredData.links)
                .enter()
                .append('path')
                .attr('class', 'link')
                .attr('marker-end', 'url(#arrowhead)');
            
            // Create nodes
            node = g.append('g')
                .selectAll('circle')
                .data(filteredData.nodes)
                .enter()
                .append('circle')
                .attr('class', 'node')
                .attr('r', d => getNodeSize(d))
                .attr('fill', d => getNodeColor(d))
                .attr('stroke', '#161b22')
                .call(d3.drag()
                    .on('start', dragstarted)
                    .on('drag', dragged)
                    .on('end', dragended))
                .on('click', showNodeInfo)
                .on('mouseover', highlightConnections)
                .on('mouseout', unhighlightConnections);
            
            // Create labels
            labels = g.append('g')
                .selectAll('text')
                .data(filteredData.nodes)
                .enter()
                .append('text')
                .attr('class', 'node-label')
                .text(d => d.name)
                .style('display', showLabels ? 'block' : 'none');
            
            // Create arrow marker
            svg.append('defs').append('marker')
                .attr('id', 'arrowhead')
                .attr('viewBox', '-0 -5 10 10')
                .attr('refX', 20)
                .attr('refY', 0)
                .attr('orient', 'auto')
                .attr('markerWidth', 6)
                .attr('markerHeight', 6)
                .append('svg:path')
                .attr('d', 'M 0,-5 L 10 ,0 L 0,5')
                .attr('fill', '#30363d');
            
            // Create simulation
            simulation = d3.forceSimulation(filteredData.nodes)
                .force('link', d3.forceLink(filteredData.links)
                    .id(d => d.id)
                    .distance(100))
                .force('charge', d3.forceManyBody().strength(-300))
                .force('center', d3.forceCenter(width / 2, height / 2))
                .force('collision', d3.forceCollide().radius(30));
            
            simulation.on('tick', ticked);
        }
        
        function ticked() {
            link.attr('d', d => {
                const dx = d.target.x - d.source.x;
                const dy = d.target.y - d.source.y;
                const dr = Math.sqrt(dx * dx + dy * dy);
                return `M${d.source.x},${d.source.y}A${dr},${dr} 0 0,1 ${d.target.x},${d.target.y}`;
            });
            
            node
                .attr('cx', d => d.x)
                .attr('cy', d => d.y);
            
            labels
                .attr('x', d => d.x)
                .attr('y', d => d.y + 20);
        }
        
        function dragstarted(event, d) {
            if (!event.active) simulation.alphaTarget(0.3).restart();
            d.fx = d.x;
            d.fy = d.y;
        }
        
        function dragged(event, d) {
            d.fx = event.x;
            d.fy = event.y;
        }
        
        function dragended(event, d) {
            if (!event.active) simulation.alphaTarget(0);
            d.fx = null;
            d.fy = null;
        }
        
        function highlightConnections(event, d) {
            const connectedNodes = new Set();
            connectedNodes.add(d.id);
            
            link.each(function(l) {
                if (l.source.id === d.id) connectedNodes.add(l.target.id);
                if (l.target.id === d.id) connectedNodes.add(l.source.id);
            });
            
            node.classed('dimmed', n => !connectedNodes.has(n.id));
            link.classed('dimmed', l => l.source.id !== d.id && l.target.id !== d.id);
            link.classed('highlight', l => l.source.id === d.id || l.target.id === d.id);
        }
        
        function unhighlightConnections() {
            node.classed('dimmed', false);
            link.classed('dimmed', false);
            link.classed('highlight', false);
        }
        
        function showNodeInfo(event, d) {
            const infoDiv = document.getElementById('info');
            const infoTitle = document.getElementById('infoTitle');
            const infoContent = document.getElementById('infoContent');
            
            infoTitle.textContent = d.name;
            
            const dependencies = projectData.links
                .filter(l => l.source.id === d.id || l.source === d.id)
                .map(l => l.target.name || l.target);
            
            const dependents = projectData.links
                .filter(l => l.target.id === d.id || l.target === d.id)
                .map(l => l.source.name || l.source);
            
            let html = `
                <div class="detail"><strong>Path:</strong> ${d.path}</div>
                <div class="detail"><strong>Type:</strong> ${d.type}</div>
                <div class="detail"><strong>Category:</strong> ${d.category}</div>
            `;
            
            if (dependencies.length > 0) {
                html += `<div class="detail"><strong>Imports:</strong> ${dependencies.length} file(s)</div>`;
            }
            
            if (dependents.length > 0) {
                html += `<div class="detail"><strong>Used by:</strong> ${dependents.length} file(s)</div>`;
            }
            
            infoContent.innerHTML = html;
            infoDiv.style.display = 'block';
        }
        
        function filterGraph() {
            const filterValue = document.getElementById('typeFilter').value;
            const searchValue = document.getElementById('searchInput').value.toLowerCase();
            
            let filteredNodes = projectData.nodes;
            
            if (filterValue !== 'all') {
                if (filterValue === 'backend' || filterValue === 'frontend' || filterValue === 'model') {
                    filteredNodes = filteredNodes.filter(n => n.category === filterValue);
                } else {
                    filteredNodes = filteredNodes.filter(n => n.type === filterValue);
                }
            }
            
            if (searchValue) {
                filteredNodes = filteredNodes.filter(n => 
                    n.name.toLowerCase().includes(searchValue) ||
                    n.path.toLowerCase().includes(searchValue)
                );
            }
            
            const nodeIds = new Set(filteredNodes.map(n => n.id));
            const filteredLinks = projectData.links.filter(l => 
                nodeIds.has(l.source.id || l.source) && nodeIds.has(l.target.id || l.target)
            );
            
            updateGraph({ nodes: filteredNodes, links: filteredLinks });
        }
        
        function resetView() {
            document.getElementById('typeFilter').value = 'all';
            document.getElementById('searchInput').value = '';
            document.getElementById('info').style.display = 'none';
            updateGraph(projectData);
            svg.transition().duration(750).call(zoom.transform, d3.zoomIdentity);
        }
        
        function toggleLabels() {
            showLabels = !showLabels;
            labels.style('display', showLabels ? 'block' : 'none');
        }
        
        // Event listeners
        document.getElementById('typeFilter').addEventListener('change', filterGraph);
        document.getElementById('searchInput').addEventListener('input', filterGraph);
        
        // Initial render
        updateGraph(projectData);
    </script>
</body>
</html>